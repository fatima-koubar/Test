@Component({
  selector: 'pc-apple-pay-button',
  templateUrl: './apple-pay-button.component.html',
  imports: [ApplePayHostInjectorDirective],
  standalone: true,
})
export class ApplePayButtonComponent {
  readonly handleClick: OutputEmitterRef<void> = output<void>();
  readonly isApplePaySupported: Signal<boolean> = computed(() => {
    return this._applePayAdapterService.canApplePayPayment();
  });

  private readonly _applePayAdapterService = inject(ApplePayAdapterService);

  onClick(): void {
    this.handleClick.emit();
  }
}

<div
  applePayHostInjector
  [isAvailable]="isApplePaySupported()"
  [style]="'black'"
  [type]="'pay'"
  (onClick)="onClick()"
></div>
