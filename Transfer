export abstract class ApplePayAdapter {
  public static SDK_URL = 'https://applepay.js';
  public static INTEGRITY_HASH = 'dwdkfnk-kjnjkn';

  private readonly _ressourceLoader = inject(RessourceLoaderService);
  private readonly _window = inject(WINDOW);

  public abstract startTransaction(): void;

  public canApplePayPayment(): boolean {
    return (
      Boolean(this._ressourceLoader.getLoadedResource(ApplePayAdapter.SDK_URL)) &&
      (this._window as any).ApplePaySession.canMakePayments()
    );
  }
}
