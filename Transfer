const applePayPaymentMean = rawData._links.payment_means?.filter(
          (pm: any) => pm.type === PAYMENT_MEAN_TYPES.APPLEPAY,
        );
        if (applePayPaymentMean && applePayPaymentMean.length > 0) {
          await ressourceLoader.loadScript(ApplePayAdapter.SDK_URL, {
            integrity: ApplePayAdapter.INTEGRITY_HASH,
            crossOrigin: 'anonymous',
          });
          if (!rawData.sandbox && (window as any).ApplePaySession) {
            const merchantIdentifier = (applePayPaymentMean[0] as HateoasPaymentMeanApplePay)
              .merchantIdentifier;
            const ApplePaySession = (window as any).ApplePaySession;
            const capabilities = await ApplePaySession.applePayCapabilities(merchantIdentifier);
            switch (capabilities.paymentCredentialStatus) {
              case 'applePayUnsupported':
                rawData._links.payment_means = rawData._links.payment_means?.filter(
                  (pm: any) => pm.type !== PAYMENT_MEAN_TYPES.APPLEPAY,
                );
            }
          }
        }


const applePayPaymentMean = this.paymentMeans().find(
      (paymentMean) => paymentMean.type === PAYMENT_MEAN_TYPES.APPLEPAY,
    ) as ApplePay | undefined;
    if (applePayPaymentMean) {
      await this._ressourceLoader.loadScript(ApplePayAdapter.SDK_URL, {
        integrity: ApplePayAdapter.INTEGRITY_HASH,
        crossOrigin: 'anonymous',
      });
      if (!this._paymentSessionStore.sandbox && (window as any).ApplePaySession) {
        const merchantIdentifier = applePayPaymentMean.merchantIdentifier;
        const ApplePaySession = (window as any).ApplePaySession;
        const capabilities = await ApplePaySession.applePayCapabilities(merchantIdentifier);
        switch (capabilities.paymentCredentialStatus) {
          case 'applePayUnsupported':
            this._paymentSessionStore.setPaymentMeans(
              this.links().paymentMeans?.filter(
                (hateoasPaymentMean) => !(hateoasPaymentMean instanceof HateoasPaymentMeanApplePay),
              ) ?? [],
            );
        }
      }
    }
