async putToken(token: string): Promise<void> {
    try {
      await firstValueFrom(this._applePayApi.putToken(token));
      if (this._callbackSubmit) {
        this._callbackSubmit();
      }
    } catch (error) {
      if (error instanceof APIError) {
        switch (error.error['error'].type) {
          case CardErrors.CardNotAccepted:
            this._toastrService.notify('PAYMENT_MEANS.APPLE_PAY.ERRORS.CARD_NOT_ACCEPTED');
            break;
          case CardErrors.expirationDateNotAccepted:
            this._toastrService.notify(
              'PAYMENT_MEANS.APPLE_PAY.ERRORS.RESTRICTION_EXPIRATION_DATE',
              { months: error.error['restriction_delay'] },
            );
            break;
          case CardErrors.expirationDateExpired:
            this._toastrService.notify('PAYMENT_MEANS.APPLE_PAY.ERRORS.EXPIRED');
            break;
          case CardErrors.invalidCard:
            this._toastrService.notify('PAYMENT_MEANS.APPLE_PAY.ERRORS.INVALID');
            break;
          default:
            this._toastrService.notify('_SHARED.ERRORS.TECHNICAL_PROBLEM');
            break;
        }
      } else {
        this._toastrService.notify('_SHARED.ERRORS.TECHNICAL_PROBLEM');
      }
      if (this._callbackError) {
        this._callbackError();
      }
    }
  }
